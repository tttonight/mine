<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
 <meta charset="utf-8">
  <title> ajax </title>
 <script>
 window.onload=function() {
	var oBtn = document.getElementById("btn1");
	oBtn.onclick=function() {
		/**
		* 1、创建ajax对象
		*/
		/*写window的原因：
		 * js中，用没有定义的变量----报错
		 * 用没有定义的属性----不会报错，undefined
		 */
		if(window.XMLHttpRequest) {
			//非ie6
			var oAjax = new XMLHttpRequest();
			//alert(oAjax);
		}else {
			//ie6
			var oAjax = new ActiveXObject("Microsoft.XMLHTTP");
		}
		
		/**
		* 2、连接到服务器
		*/
		oAjax.open('GET', 'a.txt?t='+new Date().getTime(),true);
		
		/**
		* 3、发送请求
		*/
		oAjax.send();
		
		/**
		* 4、接收返回值
		*/
		oAjax.onreadystatechange=function() {
			if(oAjax.readyState==4){
				if(oAjax.status==200) {
					alert("成功:"+oAjax.responseText);
				}else{
					alert("失败:"+oAjax.status);
				}
			}
		}
		
		
	}
 }
 </script>
 </head>
 <body>
 <input id="btn1" type="button" value="text">
 </body>

</html>

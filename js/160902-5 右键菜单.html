<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
 <meta charset="utf-8">
  <title> opener </title>
  <style>
  * {margin:0;padding:0;list-style:none;}
  #div1 {width:70px;background:#CCC;position:absolute; 
   border:1px solid black;display:none;}
  </style>
 <script>
 /**
 * 1、使系统的右键菜单不出来，oncontextmenu中return false
 * 2、点击其他地方div消失
 * 3、鼠标在哪里点，就在哪里出现
 */
 /**封装成函数*/
 function getPos(ev) {
	var scrollTop = document.documentElement.scrollTop||document.body.scrollTop; 
	var scrollLeft = document.documentElement.scrollLeft||document.body.scrollLeft; 
	
	//返回json格式
	//*** 易错，是用逗号隔开的
	return {x:ev.clientX+scrollLeft,y:ev.clientY+scrollTop}
 }
 //oncontextmenu中return false可以使系统的右键菜单不出来

document.oncontextmenu=function(ev) {
	var oEvent=ev||event;
	var oDiv = document.getElementById("div1");
	var pos=getPos(oEvent);
	
	
	oDiv.style.display='block';
	oDiv.style.left=oEvent.clientX+'px';
	oDiv.style.top=oEvent.clientY+'px';
	
	
	//alert(pos.x);
	
	return false;
}

document.onclick=function() {
	var oDiv = document.getElementById("div1");
	oDiv.style.display='none';
}

 </script>
 </head>
 <body>
<div id="div1">
 <ul>
  <li>aaa</li>
  <li>bbb</li>
  <li>ccc</li>
  <li>aaa</li>
 </ul>
</div>
 </body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
 <meta charset="utf-8">
  <title> 滚动条拖拽 </title>
  <style>
  #parent {width:600px;height:20px;background:#CCC;position:relative;margin:10px auto; }
  #div1 {width:20px;height:20px;background:red;position:absolute;}
  #div2 {width:0px;height:0px;background:yellow;}
  </style>
  <script>
  window.onload=function() {
	  var oDiv = document.getElementById("div1");
	  var oDiv2 = document.getElementById("div2");
	  var oParent = document.getElementById("parent");
	  
	  var disX=0;
	  
	  oDiv.onmousedown = function(ev) {
		  var oEvent=ev||event;
		  
		  disX=oEvent.clientX-oDiv.offsetLeft;
		  
		  
		  document.onmousemove=function(ev) {
			  var oEvent=ev||event;
			  
			  l=oEvent.clientX-disX;
			  
			  
			  //控制div不跑出可视区范围
			  if(l<0) {
				  l=0;
			  }else if(l>oParent.offsetWidth-oDiv.offsetWidth){
				  l=oParent.offsetWidth-oDiv.offsetWidth;
			  }
			  oDiv.style.left=l+"px";
			  /*
			  * l:0-580
			  * l/580:0-1
			  */
			  var scale=l/(oParent.offsetWidth-oDiv.offsetWidth);
			  document.title=scale;
			  //div2展开
			  oDiv2.style.width=300*scale+"px";
			  oDiv2.style.height=300*scale+"px";
			  
			}
		  //鼠标移开
		  document.onmouseup=function() {
			 
			  document.onmousemove=null;
			  document.onmousedown=null;
			
		  }
		return false;
	  }
	  
  }
  </script>
 </head>
 <body>
 <div id="parent">
 <div id="div1"></div>
 </div>
 <div id="div2"></div>
 </body>

</html>
